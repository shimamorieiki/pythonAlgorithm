# 何回操作してもよいので、Pを回転させるよりは
# 任意の捉え方において最短で喜ぶ人数を求めたい
# N^2 の解法は思いついた(というか完全に愚直な方針)
# give up

N = 4
P = [1, 2, 0, 3]

# よく分からなかった
# 1ステップごとに全体を見るのではなく、1つに着目する
